<!DOCTYPE html>
<html dir="ltr" lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="airbnb, booking, city guide, directory, events, hotel booking, listings, marketing, places, restaurant, restaurant">
    <meta name="description" content="Guido - Directory & Listing HTML Template">
    <meta name="CreativeLayers" content="ATFN">
    <!-- css file -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <!-- Title -->
    <title>Guido - Directory & Listing HTML Template</title>
    <!-- Favicon -->
    <link href="/images/favicon.ico" sizes="128x128" rel="shortcut icon" type="image/x-icon" />
    <link href="/images/favicon.ico" sizes="128x128" rel="shortcut icon" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!--test css 석민 평점-->
    <style>
        .star-rating {
            display: flex;
            flex-direction: row-reverse;
            font-size: 2.25rem;
            line-height: 2.5rem;
            justify-content: space-around;
            padding: 0 0.2em;
            text-align: center;
            width: 5em;
        }

        .star-rating input {
            display: none;
        }

        .star-rating label {
            -webkit-text-fill-color: transparent; /* Will override color (regardless of order) */
            -webkit-text-stroke-width: 2.3px;
            -webkit-text-stroke-color: #2b2a29;
            cursor: pointer;
        }

        .star-rating :checked ~ label {
            -webkit-text-fill-color: gold;
        }

        .star-rating label:hover,
        .star-rating label:hover ~ label {
            -webkit-text-fill-color: #fff58c;
        }
    </style>
</head>
<body>
<div class="wrapper">
    <div class="preloader"></div>

    <th:block th:replace="top"></th:block>

    <!-- Modal -->
    <div class="sign_up_modal modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md mt100" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body container pb20 pl0 pr0 pt0">
                    <div class="row">
                        <div class="col-lg-12">
                            <ul class="sign_up_tab nav nav-tabs" id="myTab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Sign in</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Register</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="tab-content container" id="myTabContent">
                        <div class="row mt40 tab-pane fade show active pl20 pr20" id="home" role="tabpanel" aria-labelledby="home-tab">
                            <div class="col-lg-12">
                                <div class="login_form">
                                    <form action="#">
                                        <div class="input-group mb-2 mr-sm-2">
                                            <input type="text" class="form-control" id="inlineFormInputGroupUsername2" placeholder="Username / Email">
                                        </div>
                                        <div class="input-group form-group mb5">
                                            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
                                        </div>
                                        <div class="form-group custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="exampleCheck1">
                                            <label class="custom-control-label" for="exampleCheck1">Remember me</label>
                                            <a class="btn-fpswd float-right" href="#">Forgot password?</a>
                                        </div>
                                        <button type="submit" class="btn btn-log btn-block btn-thm">Sign in</button>
                                        <p class="text-center mb30 mt20">Don't have an account? <a class="text-thm" href="#">Sign up</a></p>
                                        <hr>
                                        <div class="row mt30">
                                            <div class="col-lg-6">
                                                <button type="submit" class="btn btn-fb btn-block"><i class="fa fa-facebook float-left mt5"></i> Log In via Facebook</button>
                                            </div>
                                            <div class="col-lg-6">
                                                <button type="submit" class="btn btn-googl btn-block"><i class="fa fa-google float-left mt5"></i> Log In via Google+</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="row mt40 tab-pane fade pl20 pr20" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                            <div class="col-lg-12">
                                <div class="sign_up_form">
                                    <ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Customer</a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Business Owner</a>
                                        </li>
                                    </ul>
                                    <div class="tab-content" id="pills-tabContent">
                                        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                                            <form action="#">
                                                <div class="form-group input-group">
                                                    <input type="email" class="form-control" id="exampleInputEmail2" placeholder="Email">
                                                </div>
                                                <div class="form-group input-group">
                                                    <input type="text" class="form-control" id="exampleInputName" placeholder="Username">
                                                </div>
                                                <div class="form-group input-group mb20">
                                                    <input type="password" class="form-control" id="exampleInputPassword2" placeholder="Password">
                                                </div>
                                                <button type="submit" class="btn btn-log btn-block btn-thm">Sign Up</button>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <button type="submit" class="btn btn-block btn-fb"><i class="fa fa-facebook float-left mt5"></i> Log In via Facebook</button>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <button type="submit" class="btn btn-block btn-googl"><i class="fa fa-google float-left mt5"></i> Log In via Google+</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                                            <form action="#">
                                                <div class="form-group input-group">
                                                    <input type="email" class="form-control" id="exampleInputEmail3" placeholder="Email">
                                                </div>
                                                <div class="form-group input-group">
                                                    <input type="text" class="form-control" id="exampleInputName2" placeholder="Username">
                                                </div>
                                                <div class="form-group input-group mb20">
                                                    <input type="password" class="form-control" id="exampleInputPassword3" placeholder="Password">
                                                </div>
                                                <button type="submit" class="btn btn-log btn-block btn-thm">Sign Up</button>
                                                <hr>
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <button type="submit" class="btn btn-block btn-fb"><i class="fa fa-facebook float-left mt5"></i> Log In via Facebook</button>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <button type="submit" class="btn btn-block btn-googl"><i class="fa fa-google float-left mt5"></i> Log In via Google+</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Header Nav For Mobile -->
    <div id="page" class="stylehome1 h0">
        <div class="mobile-menu">
            <div class="header stylehome1">
                <div class="main_logo_home2 text-left">
                    <img class="nav_logo_img img-fluid mt15" src="/images/header-logo2.svg" alt="header-logo2.svg">
                    <span class="mt15">Guido</span>
                </div>
                <ul class="menu_bar_home2">
                    <li class="list-inline-item"><a class="custom_search_with_menu_trigger msearch_icon" href="#" data-toggle="modal" data-target="#staticBackdrop"><span class="flaticon-loupe"></span></a></li>
                    <li class="list-inline-item"><a class="muser_icon" href="/page-register.html"><span class="flaticon-avatar"></span></a></li>
                    <li class="list-inline-item"><a class="menubar" href="#menu"><span></span></a></li>
                </ul>
            </div>
        </div><!-- /.mobile-menu -->
        <nav id="menu" class="stylehome1">
            <ul>
                <li><span>Home</span>
                    <ul>
                        <li><a href="/index.html">Home V1</a></li>
                        <li><a href="/index2.html">Home V2</a></li>
                        <li><a href="/index3.html">Home V3</a></li>
                    </ul>
                </li>
                <li><span>Explore</span>
                    <ul>
                        <li><a href="/page-author-single.html">Author Single</a></li>
                        <li><a href="/page-city-single.html">City Single</a></li>
                        <li><a href="/page-add-new-listing.html">New Listing</a></li>
                    </ul>
                </li>
                <li><span>Listing</span>
                    <ul>
                        <li><span>Listing Styles</span>
                            <ul>
                                <li><a href="/page-listing-v1.html">Listing v1</a></li>
                                <li><a href="/page-listing-v2.html">Listing v2</a></li>
                                <li><a href="/page-listing-v3.html">Listing v3</a></li>
                                <li><a href="/page-listing-v4.html">Listing v4</a></li>
                                <li><a href="/page-listing-v5.html">Listing v5</a></li>
                            </ul>
                        </li>
                        <li><span>Listing Map</span>
                            <ul>
                                <li><a href="/page-listing-v6.html">Map v1</a></li>
                                <li><a href="/page-listing-v7.html">Map v2</a></li>
                                <li><a href="/page-listing-v8.html">Map v3</a></li>
                                <li><a href="/page-listing-v9.html">Map v4</a></li>
                            </ul>
                        </li>
                        <li><span>Listing Single</span>
                            <ul>
                                <li><a href="/page-listing-single-v1.html">Single V1</a></li>
                                <li><a href="/page-listing-single-v2.html">Single V2</a></li>
                                <li><a href="/page-listing-single-v3.html">Single V3</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><span>Blog</span>
                    <ul>
                        <li><a href="/page-blog-grid.html">Blog Grid</a></li>
                        <li><a href="/page-blog-grid-sidebar.html">Blog Grid Sidebar</a></li>
                        <li><a href="/page-blog-details.html">Blog Details</a></li>
                        <li><a href="/page-blog-list.html">Blog List</a></li>
                        <li><a href="/page-blog-single.html">Blog Single</a></li>
                    </ul>
                </li>
                <li><span>Pages</span>
                    <ul>
                        <li><span>Shop</span>
                            <ul>
                                <li><a href="/page-shop.html">Shop Pages</a></li>
                                <li><a href="/page-shop-single.html">Shop Single</a></li>
                                <li><a href="/page-shop-cart.html">Cart</a></li>
                                <li><a href="/page-shop-checkout.html">Checkout</a></li>
                                <li><a href="/page-shop-order.html">Order</a></li>
                            </ul>
                        </li>
                        <li><a href="page-about.html">About Us</a></li>
                        <li><a href="/page-contact.html">Contact</a></li>
                        <li><a href="/page-coming-soon.html">Coming Soon</a></li>
                        <li><span>User Detils</span>
                            <ul>
                                <li><a href="/page-my-dashboard.html">Dashboard</a></li>
                                <li><a href="/page-profile.html">My Profile</a></li>
                                <li><a href="/page-my-listing.html">My Listings</a></li>
                                <li><a href="/page-my-bookmark.html">Bookmarks</a></li>
                                <li><a href="/page-message.html">Messages</a></li>
                                <li><a href="/page-my-review.html">Reviews</a></li>
                                <li><a href="/page-add-new-listing.html">Add New Property</a></li>
                            </ul>
                        </li>
                        <li><a href="/page-gallery.html">Gallery</a></li>
                        <li><a href="/page-faq.html">Faq</a></li>
                        <li><a href="/page-invoice.html">Invoice</a></li>
                        <li><a href="/page-login.html">LogIn</a></li>
                        <li><a href="/page-pricing.html">Pricing V1</a></li>
                        <li><a href="/page-pricing2.html">Pricing V2</a></li>
                        <li><a href="/page-register.html">Register</a></li>
                        <li><a href="/page-error.html">404 Page</a></li>
                        <li><a href="/page-terms.html">Terms and Conditions</a></li>
                        <li><a href="/page-ui-element.html">UI Elements</a></li>
                    </ul>
                </li>
                <li><a href="/page-contact.html">Contact</a></li>
                <li><a href="/page-login.html"><span class="flaticon-avatar"></span> Login</a></li>
                <li><a href="/page-register.html"><span class="flaticon-edit"></span> Register</a></li>
                <li class="cl_btn"><a class="btn btn-block btn-lg btn-thm rounded" href="#"><span class="icon">+</span> Create Listing</a></li>
            </ul>
        </nav>
    </div>

    <!-- Inner Page Breadcrumb -->
    <section class="inner_page_breadcrumb">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-xl-6">
                    <div class="breadcrumb_content">
                        <h2 class="breadcrumb_title" style="font-family: jua; font-size: 28px">내가 가본 여행지를 추천해주세요 !!</h2>
                        <h2 class="breadcrumb_title" style="font-family: jua; font-size: 28px">태그, 내용에 따라 추천 여행지가 달라집니다.</h2>
                        <ol class="breadcrumb">
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Text Content -->
    <section class="about-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="main-title text-center">
                        <h2>게시글 작성하기</h2>
                    </div>
                </div>
            </div>
            <form action="/board/boardWriteProc" id="uploadFile" method="post" enctype="multipart/form-data">
                <div class="row" id="row">
                    <div class="col-lg-12">
                        <div class="col-lg-3" style="float: left">
                            <label>출발일</label>
                            <div class="form-group input-group main_004">
                                <input type="date" class="form-control" id="start_day" name="start_day" placeholder="출발일">
                            </div>
                        </div>
                        <div class="col-lg-3" style="float: left">
                            <label>도착일</label>
                            <div class="form-group input-group main_004">
                                <input type="date" class="form-control" id="end_day" name="end_day">
                            </div>
                        </div>
                        <div class="col-lg-3" style="float: left">
                            <label>지역</label>
                            <div class="form-group input-group main_004">
                                <select class="form-control" name="location" id="big_city" onchange="chanCity(value)" style="display: inline">
                                    <option value="1" selected="">서울</option>
                                    <option value="2">인천</option>
                                    <option value="3">대전</option>
                                    <option value="4">대구</option>
                                    <option value="5">광주</option>
                                    <option value="6">부산</option>
                                    <option value="7">울산</option>
                                    <option value="31">경기도</option>
                                    <option value="33">충청북도</option>
                                    <option value="34">충청남도</option>
                                    <option value="35">경상북도</option>
                                    <option value="36">경상남도</option>
                                    <option value="37">전라북도</option>
                                    <option value="38">전라남도</option>
                                    <option value="39">제주도</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-3" style="float: left">
                            <label>시군구</label>
                            <div class="form-group input-group main_004">
                                <select class="form-control" name="smallcity" id="small_city" style="display: inline">
                                    <option value="1" selected="">강남</option>
                                    <option value="2">강북</option>
                                    <option value="3">강서</option>
                                    <option value="4">중랑</option>
                                    <option value="5">관악</option>
                                    <option value="6">동작</option>
                                    <option value="7">양천</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <br>
                        <hr color="black">
                    </div>
                    <div class="wrap_main">
                        <div class="col-lg-6" style="float: left;">
                            <div class="about_thumb mb30-smd input-images">
                                <img src="/images/about/1.jpg" alt="1.jpg" id="boardWrite1" style="height: 500px;">
                                <a class="popupiframe popup-youtube" onclick="$('#file').trigger('click')" href="javascript:void(0);"><img src="/images/icons/upload.svg" alt="play1.svg" style="max-width: 66%;"></a>
                                <input type="file" multiple="multiple" name="file" class="file_01" id="file"
                                       style="display: none;" value="1"
                                       onChange="readURL(this.value);">
                            </div>
                        </div>
                        <div class="col-lg-6" style="float: left;">
                            <div class="col-8" style="float: left">
                                <label>제목</label>
                                <div class="form-group input-group main_004">
                                        <input type="text" class="form-control" id="title" name="title" placeholder="제목을 입력해주세요">
                                </div>
                            </div>
                            <div class="col-4" style="float: left; margin-bottom: 21px">
                                <label>평점</label>
                                <div class="star-rating space-x-4 mx-auto">
                                    <input type="radio" id="5-stars1" name="rating1" value="5" v-model="ratings"/>
                                    <label for="5-stars1" class="star pr-4">★</label>
                                    <input type="radio" id="4-stars1" name="rating1" value="4" v-model="ratings"/>
                                    <label for="4-stars1" class="star">★</label>
                                    <input type="radio" id="3-stars1" name="rating1" value="3" v-model="ratings"/>
                                    <label for="3-stars1" class="star">★</label>
                                    <input type="radio" id="2-stars1" name="rating1" value="2" v-model="ratings"/>
                                    <label for="2-stars1" class="star">★</label>
                                    <input type="radio" id="1-star1" name="rating1" value="1" v-model="ratings" />
                                    <label for="1-star1" class="star">★</label>
                                </div>
                            </div>
                            <div class="col-8" style="float: left">
                                <label>장소명</label>
                                <div class="form-group input-group main_004">
                                    <input type="text" class="form-control" name="addr" placeholder="장소을 입력해주세요">
                                </div>
                            </div>
                            <div class="col-4" style="float: left">
                                <label>태그</label>
                                <div class="form-group input-group main_004">
                                    <input type="text" class="form-control" id="keyMain" name="hashTag" placeholder="#태그">
                                </div>
                            </div>
                            <textarea class="form-control" style="padding-left: 15px; padding-right: 15px; margin-left: 15px; width: 95%; height: 298px" placeholder="내용을 입력해주세요" name="board_content"></textarea>
                        </div>
                    </div>
                    <div id="append_div">
                    </div>
                </div>
            </form>
<!--            </form>-->
            <div class="row mt50">
                <div class="col-md-6 col-lg-3">
                    <div class="funfact_one style2 text-center">
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="funfact_one style2 text-center">
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="funfact_one style2 text-center">
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="funfact_one style2 text-center">
                        <button type="button" class="btn dbxshad btn-lg btn-thm2 circle addBtn">ADD</button>
                        <button type="button" class="btn dbxshad btn-lg btn-thm circle" id="send_form">SUBMIT</button>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <th:block th:replace="footer"></th:block>
</div>
<!-- Wrapper End -->
<script src="/js/jquery-3.6.0.js"></script>
<script src="/js/jquery-migrate-3.0.0.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.mmenu.all.js"></script>
<script src="/js/ace-responsive-menu.js"></script>
<script src="/js/bootstrap-select.min.js"></script>
<script src="/js/boardWriteTag.js"></script>
<script src="/js/isotop.js"></script>
<script src="/js/snackbar.min.js"></script>
<script src="/js/simplebar.js"></script>
<script src="/js/city.js"></script>
<script src="/js/parallax.js"></script>
<script src="/js/scrollto.js"></script>
<script src="/js/jquery-scrolltofixed-min.js"></script>
<script src="/js/jquery.counterup.js"></script>
<script src="/js/wow.min.js"></script>
<script src="/js/progressbar.js"></script>
<script src="/js/slider.js"></script>
<script src="/js/timepicker.js"></script>
<!-- Custom script for all pages -->
<script src="/js/script.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script type="text/javascript">

    window.onload = function () {
        //여기는 동적 태그 생성
        let self_file = [];
        $(function () {
            let count = 1;
            $(".addBtn").click(function () {
                if(self_file.length==0) {
                    swal('사진 등록 후 추가해주세요', '', 'warning');
                    return false;
                }
                count = write_append();
            });
            //img-btn클릭시 input file 클릭
            $(document).on("click", ".photo_btn", function photo_event(e) {
                e.preventDefault();
                $('#file').click();
            });
            // 파일 객체에 변화가 일어났을때 발생하는 이벤트
            document.getElementById('file').addEventListener('change', readURL, true);
            // 파일 배열에 담을 변수

            //파일 객체 읽어와서 배열에 담아줌
            function readURL(val) {
                var maxSize = 1024 * 1024;
                console.log(count);
                if (document.getElementById("file").files[0].size >= maxSize) {
                    alert("첨부파일 사이즈는 1MB 이내로 등록 가능합니다.");
                    return false;
                } else { //여기서부터 코딩
                    let files = document.getElementById("file").files[0];
                    console.log(files);
                    let reader = new FileReader();
                    reader.onloadend = function () {
                        //자동으로 생성된 아이디에 src 읽어온 파일 url로 교체 preview
                        // var boardWrite = "#boardWrite" + j;
                        // console(boardWrite);
                        $('#boardWrite'+count).attr('src', reader.result);
                    }
                        //파일 정보 배열에 담기
                        self_file.push(files);
                        console.log(self_file);

                        if (files) {
                            reader.readAsDataURL(this.files[0]);
                        }

                }
            }

            //파일 전송
            $(document).on("click", "#send_form", function () {

                for(var i=0; i<document.getElementsByName("title").length; i++) {

                    if(document.getElementsByName("title")[i].value==='') {
                        swal('입력정보를 확인해주세요.', '필수 입력정보를 누락하셨습니다.', 'warning');
                        return false;
                    }
                    if(document.getElementsByName("addr")[i].value==='') {
                        swal('입력정보를 확인해주세요.', '필수 입력정보를 누락하셨습니다.', 'warning');
                        return false;
                    }
                    if(document.getElementsByName("hashTag")[i].value==='') {
                        swal('입력정보를 확인해주세요.', '필수 입력정보를 누락하셨습니다.', 'warning');
                        return false;
                    }
                    if(document.getElementsByName("board_content")[i].value==='') {
                        swal('입력정보를 확인해주세요.', '필수 입력정보를 누락하셨습니다.', 'warning');
                        return false;
                    }
                }

                let formData = new FormData($("#uploadFile")[0]);
                if (self_file.length >= 0) {
                    self_file.forEach(function (f) {
                        formData.append("self_file", f);
                    });
                    console.log(formData);
                    $.ajax({
                        url: "/board/boardWriteProc",
                        data: formData,
                        type: 'POST',
                        enctype: 'multipart/form-data',
                        processData: false,
                        contentType: false,
                        dataType: 'json',
                        cache: false,
                        success: function (res) {
                            console.table(res);
                            let url = res["moveUrl"] + "?msg=" + res["msg"] + "&url=" + res["url"];
                            location.replace(url);
                            console.log(url);
                        }, error: function (res) {
                            console.log("fail : " + res);
                        }
                    });
                }
            });
        });
    }
</script>
</body>
</html>