<!DOCTYPE html>
<html dir="ltr" lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="airbnb, booking, city guide, directory, events, hotel booking, listings, marketing, places, restaurant, restaurant">
    <meta name="description" content="Guido - Directory & Listing HTML Template">
    <meta name="CreativeLayers" content="ATFN">
    <!-- css file -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <!-- Responsive stylesheet -->
    <link rel="stylesheet" href="/css/responsive.css">
    <!-- Title -->
    <title>비밀번호 찾기</title>
    <!-- Favicon -->
    <link href="/images/favicon.ico" sizes="128x128" rel="shortcut icon" type="image/x-icon" />
    <link href="/images/favicon.ico" sizes="128x128" rel="shortcut icon" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!--사용자 입력 확인-->
    <script type="text/javascript">
        function userRegCheck(f) {
            if (f.user_id.value == "") {
                swal("아이디를 입력하세요");
                f.user_id.focus();
                return false;
            }
            if (f.user_email.value == "") {
                swal("이메일을 입력해주세요");
                f.user_email.focus();
                return false;
            }
            if (f.user_name.value == "") {
                swal("이름을 입력해주세요");
                f.user_name.focus();
                return false;
            }
            if (f.user_pwd.value == "") {
                swal("비밀번호를 입력하세요");
                f.user_pwd.focus();
                return false;
            }
            if (f.user_pwd2.value == "") {
                swal("비밀번호 확인을 입력하세요");
                f.user_pwd2.focus();
                return false;
            }
            if (f.user_pwd.value != f.user_pwd2.value) {
                swal("비밀번호가 다릅니다 다시 입력하세요");
                f.user_pwd.focus();
                return false;
            }

        }
    </script>
    <!--인증메일 전송-->
    <script>
        function email_send() {
            let param = {
                "email": $("#email"),
                "userId": $("#userId")
            };

            $.ajax({
                type: "POST",
                url: "/user/emailSendProc",
                data: param,
                success(data) {
                    console.log(data);
                    $("#auth_email").on("propertychange change keyup paste input", function () {
                        if (data == $("#auth_email").val()) {
                            $("#auth_res").text("인증번호가 일치 합니다.");
                            $("#auth_res").css('color', 'blue');
                            $("#btn_send").attr("type", "submit");
                        } else {
                            $("#auth_res").text("인증번호를 다시 확인해 주세요");
                            $("#auth_res").css('color', 'red');
                            $("#btn_send").attr("type", "button");
                        }
                    });
                }
            });
        }
    </script>
</head>
<body>

<!-- Inner Page Breadcrumb -->
<section class="inner_page_breadcrumb">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-6">
                <div class="breadcrumb_content">
                    <h2 class="breadcrumb_title">Find Your Password</h2>
                    <ol class="breadcrumb">
                    </ol>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Our SigIn -->
<section class="our-log">
    <div class="container">
        <div class="row">
            <div class="col-sm-12 col-lg-6 offset-lg-3">
                <div class="login_form inner_page">
                    <form action="/user/passwordChgProc" method="post">
                        <!--사용자 확인을 위한 id-->
                        <div class="input-group mb-2 mr-sm-2">
                            <input type="text" name="user_id" class="form-control" id="inlineFormInputGroupUsername3" placeholder="Enter Your Name">
                        </div>
                        <!--인증을 위한 email-->
                        <div class="input-group form-group mb5">
                            <input type="email" id="user_email" name="user_email" class="form-control"  placeholder="Enter Your Email Address">
                            <button onclick="email_send();" type="submit" class="btn btn-log btn-block btn-thm">Send Verification Code</button>
                            <div id="email_text"></div>
                        </div>
                        <!--인증번호 입력-->
                        <div class="input-group form-group mb5">
                            <input type="text" class="form-control" id="auth_email" placeholder="Enter the Verification Code">
                            <div id="auth_res"></div>
                        </div>
                        <!--새 비밀번호-->
                        <div class="input-group mb-2 mr-sm-2">
                            <input type="password" id="user_pwd" name="user_pwd"  class="form-control" placeholder="Enter New Password">
                        </div>
                        <div class="input-group form-group mb5">
                            <input type="password" id="user_pwd2" name="user_pwd2" class="form-control" placeholder="Enter Your New Password Again">
                            <div id="pwd_res"></div>
                        </div>
                        <div class="form-group custom-control custom-checkbox">
                            <a class="btn-fpswd float-right" href="/user/findID"> /Forgot ID?</a>
                            <a class="btn-fpswd float-right" href="/user/login">Sign in</a>
                        </div>
                        <button type="submit" id="btn_send" class="btn btn-log btn-block btn-thm">Find Password</button>
                        <p class="text-center mb30 mt20">Don't have an account? <a class="text-thm" href="/user/userReg">Sign up</a></p>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Start Partners -->

<!-- Our Footer -->
<th:block th:replace="footer"></th:block>
</div>


<script>
    $("#user_pwd2").on("propertychange change keyup paste input", function () {
        if ($("#user_pwd").val() == $("#user_pwd2").val()) {
            $("#pwd_res").text("비밀번호가 일치합니다!");
            $("#pwd_res").css('color', 'blue');
        } else {
            $("#pwd_res").text("비밀번호가 일치하지 않습니다");
            $("#pwd_res").css('color', 'red');
        }
    });
</script>

<!-- Wrapper End -->
<script src="/js/jquery-3.6.0.js"></script>
<script src="/js/jquery-migrate-3.0.0.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.mmenu.all.js"></script>
<script src="/js/ace-responsive-menu.js"></script>
<script src="/js/bootstrap-select.min.js"></script>
<script src="/js/snackbar.min.js"></script>
<script src="/js/simplebar.js"></script>
<script src="/js/parallax.js"></script>
<script src="/js/scrollto.js"></script>
<script src="/js/jquery-scrolltofixed-min.js"></script>
<script src="/js/jquery.counterup.js"></script>
<script src="/js/wow.min.js"></script>
<script src="/js/progressbar.js"></script>
<script src="/js/slider.js"></script>
<script src="/js/timepicker.js"></script>
<script src="/js/wow.min.js"></script>
<!-- Custom script for all pages -->
<script src="/js/script.js"></script>
</body>
</html>